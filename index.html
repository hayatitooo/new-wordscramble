<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ITALIAN WORD SCRAMBLE</title>
  <style>
* {
  box-sizing: border-box;
}

body {
  font-family: "Arial", sans-serif;
  text-align: center;
  background-color: #e0f7fa;
  margin: 0;
  padding: 0;
}

/* „Çø„Ç§„Éà„É´ÁîªÈù¢ */
#title-screen {
  background-color: #cce8ff;
  text-align: center;
  min-height: 100vh;
  padding: 20px 15px 60px 15px;
}

#main-title {
  font-size: clamp(1.3rem, 5vw, 2.5rem);
  margin-top: 20px;
  margin-bottom: 15px;
  color: #004d40;
  line-height: 1.3;
  padding: 0 10px;
}

.ita {
  font-style: italic;
  color: #00796b;
  font-size: clamp(0.9rem, 3vw, 1.1rem);
  display: block;
  margin-top: 10px;
}

.category-container {
  margin-top: 20px;
  max-width: 1000px;
  margin-left: auto;
  margin-right: auto;
  padding: 0 10px;
}

.category-section {
  margin-bottom: 25px;
}

.category-section h3 {
  color: #004d40;
  font-size: clamp(1rem, 3.5vw, 1.3rem);
  margin-bottom: 10px;
  padding: 0 5px;
}

.category-btn {
  background-color: #ffeb3b;
  border: 2px solid #fbc02d;
  border-radius: 8px;
  padding: 10px 12px;
  margin: 5px;
  cursor: pointer;
  font-size: clamp(0.8rem, 2.5vw, 0.9rem);
  display: inline-block;
  touch-action: manipulation;
  min-height: 44px;
  transition: background-color 0.2s;
}

.category-btn:hover, .category-btn:active {
  background-color: #fdd835;
}

/* „Ç≤„Éº„É†ÁîªÈù¢ */
#game-screen {
  text-align: center;
  padding: 20px 15px 100px 15px;
  background-color: #cce8ff;
  min-height: 100vh;
  position: relative;
}

.game-title {
  font-size: clamp(1.2rem, 4vw, 2.2rem);
  margin-top: 10px;
  margin-bottom: 15px;
  text-align: center;
  color: #004d40;
  line-height: 1.3;
  padding: 0 10px;
}

/* „Ç´„ÉÜ„Ç¥„É™„Éº„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥ */
.dropdown {
  margin: 0 auto 20px auto;
  position: relative;
}

#category-list-btn {
  background-color: #ffeb3b;
  border: 2px solid #fbc02d;
  padding: 12px 16px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
  font-size: clamp(0.9rem, 3vw, 1rem);
  touch-action: manipulation;
  min-height: 44px;
}

#category-list-btn:hover, #category-list-btn:active {
  background-color: #fdd835;
}

#category-dropdown {
  display: none;
  flex-direction: column;
  background: white;
  border: 2px solid #fbc02d;
  border-radius: 8px;
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  z-index: 10;
  margin-top: 5px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.12);
  max-height: 60vh;
  overflow-y: auto;
  width: 90vw;
  max-width: 400px;
}

#category-dropdown.show {
  display: flex;
}

.dropdown-section {
  border-bottom: 1px solid #eee;
  padding: 5px 0;
}

.dropdown-section:last-child {
  border-bottom: none;
}

.dropdown-section-title {
  font-weight: bold;
  color: #004d40;
  padding: 10px 12px;
  text-align: left;
  font-size: clamp(0.85rem, 2.5vw, 0.9rem);
  background-color: #f5f5f5;
  position: sticky;
  top: 0;
  z-index: 1;
}

.dropdown-item {
  border: none;
  background: none;
  padding: 12px;
  text-align: left;
  cursor: pointer;
  font-size: clamp(0.8rem, 2.5vw, 0.85rem);
  width: 100%;
  touch-action: manipulation;
  min-height: 44px;
}

.dropdown-item:hover, .dropdown-item:active {
  background-color: #fff9c4;
}

#category-name {
  font-size: clamp(1.1rem, 4vw, 1.5rem);
  margin-bottom: 20px;
  color: #00796b;
  padding: 0 10px;
}

/* ÂïèÈ°å„É™„Çπ„Éà */
#scramble-list {
  list-style-type: none;
  padding: 0;
  margin: 20px auto;
  max-width: 700px;
  text-align: left;
}

#scramble-list li {
  margin: 15px 0;
  font-size: clamp(1rem, 3vw, 1.6rem);
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding: 15px;
  background: white;
  border-radius: 10px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.scrambled {
  font-weight: bold;
  color: #004d40;
  font-size: clamp(1.3rem, 4vw, 1.8rem);
  text-align: center;
  padding: 10px;
  background: #f0f9ff;
  border-radius: 8px;
}

.answer {
  width: 100%;
  padding: 12px;
  border: 2px solid #00796b;
  border-radius: 6px;
  font-size: clamp(1.1rem, 3.5vw, 1.3rem);
  text-align: center;
  touch-action: manipulation;
}

/* „Ç≤„Éº„É†„Ç≥„É≥„ÉÜ„É≥„ÉÑ„É©„ÉÉ„Éë„Éº */
.game-content-wrapper {
  display: flex;
  justify-content: center;
  gap: 20px;
  align-items: flex-start;
  flex-wrap: wrap;
}

.hint-container {
  display: flex;
  flex-direction: column;
  gap: 15px;
  width: 100%;
  max-width: 300px;
  margin: 0 auto;
}

/* „Éí„É≥„Éà„Éú„Çø„É≥ */
#hint-button {
  background-color: springgreen;
  border: none;
  padding: 12px 16px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  font-size: clamp(0.9rem, 3vw, 1rem);
  touch-action: manipulation;
  min-height: 44px;
  width: 100%;
}

#hint-button:hover, #hint-button:active {
  background-color: #00e676;
}

/* „Éí„É≥„Éà„Éú„ÉÉ„ÇØ„Çπ */
#hint-box {
  width: 100%;
  background: #fffbea;
  border: 2px solid springgreen;
  border-radius: 10px;
  padding: 15px;
  text-align: left;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}

#hint-box.hidden {
  display: none;
}

#hint-box h3 {
  font-size: clamp(0.9rem, 3vw, 1rem);
  margin: 0 0 10px 0;
  text-align: center;
  color: #004d40;
}

#hint-box ul {
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  gap: 5px;
}

#hint-box li {
  font-size: clamp(0.85rem, 2.5vw, 0.95rem);
  padding: 6px 8px;
  background: white;
  border-radius: 4px;
  text-align: center;
}

/* ‰∏ãÈÉ®„Ç≥„É≥„Éà„É≠„Éº„É´ */
#controls {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(to top, #cce8ff 80%, transparent);
  padding: 15px;
  display: flex;
  gap: 10px;
  justify-content: center;
  flex-wrap: wrap;
  z-index: 100;
}

#controls button {
  background-color: springgreen;
  border: none;
  padding: 12px 20px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  font-size: clamp(0.85rem, 2.5vw, 1rem);
  touch-action: manipulation;
  min-height: 44px;
  flex: 1;
  min-width: 140px;
  max-width: 250px;
}

#controls button:hover, #controls button:active {
  background-color: #00e676;
}

/* „Çπ„Ç≥„Ç¢Ë°®Á§∫ */
#score-area {
  margin: 30px auto 20px auto;
  font-size: clamp(1.1rem, 3.5vw, 1.5rem);
  font-weight: bold;
  color: #004d40;
  padding: 15px;
  background-color: #e0f7fa;
  border-radius: 10px;
  max-width: 600px;
  line-height: 1.5;
}

.hidden {
  display: none;
}

/* „Çø„Éñ„É¨„ÉÉ„Éà‰ª•‰∏ä */
@media (min-width: 769px) {
  #scramble-list li {
    flex-direction: row;
    align-items: center;
  }
  
  .scrambled {
    min-width: 200px;
    flex-shrink: 0;
  }
  
  .answer {
    flex: 1;
  }
  
  .game-content-wrapper {
    flex-wrap: nowrap;
  }
  
  .hint-container {
    width: auto;
    max-width: 250px;
  }
  
  #controls {
    position: fixed;
    bottom: 30px;
    left: 50%;
    right: auto;
    transform: translateX(-50%);
    background: transparent;
    width: auto;
  }
  
  #game-screen {
    padding-bottom: 120px;
  }
}

/* Â∞è„Åï„ÅÑ„Çπ„Éû„Éõ */
@media (max-width: 380px) {
  .category-btn {
    font-size: 0.75rem;
    padding: 8px 10px;
  }
  
  #scramble-list li {
    padding: 12px;
  }
  
  #controls button {
    font-size: 0.8rem;
    padding: 10px 15px;
    min-width: 120px;
  }
}
  </style>
</head>
<body>
  <!-- „Çø„Ç§„Éà„É´ÁîªÈù¢ -->
  <div id="title-screen">
    <h1 id="main-title">üü©‚¨úüü•ITALIAN WORD SCRAMBLEüü©‚¨úüü•</h1>
    <p style="font-size: clamp(0.95rem, 3vw, 1.1rem); margin-bottom: 15px;">
      „Ç´„ÉÜ„Ç¥„É™„ÇíÈÅ∏„Çì„Åß„Å≠ÔºÅ<br>
      <span class="ita">Per favore, scegli una categoria!</span>
    </p>
    <div class="category-container" id="category-container">
      <!-- „Ç´„ÉÜ„Ç¥„É™„Éº„ÅØJavaScript„ÅßÂãïÁöÑ„Å´ÁîüÊàê -->
    </div>
  </div>

  <!-- „Ç≤„Éº„É†ÁîªÈù¢ -->
  <div id="game-screen" class="hidden">
    <h1 class="game-title">üü©‚¨úüü•ITALIAN WORD SCRAMBLE</h1>
    
    <div class="dropdown">
      <button id="category-list-btn">üìÇ „Ç´„ÉÜ„Ç¥„É™„Éº‰∏ÄË¶ß / Categoria</button>
      <div id="category-dropdown">
        <!-- „Ç´„ÉÜ„Ç¥„É™„Éº„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„ÇÇJavaScript„ÅßÂãïÁöÑ„Å´ÁîüÊàê -->
      </div>
    </div>

    <h2 id="category-name"></h2>
    
    <div class="game-content-wrapper">
      <ul id="scramble-list"></ul>

      <div class="hint-container">
        <button id="hint-button">üí° „Éí„É≥„Éà / Indizio</button>
        <div id="hint-box" class="hidden">
          <h3>üí° „Éí„É≥„Éà</h3>
          <ul id="hint-list"></ul>
        </div>
      </div>
    </div>

    <div id="controls">
      <button id="next-button">‚û° Êé°ÁÇπ / Correggi</button>
      <button id="home-button">üè† „Éõ„Éº„É† / Home</button>
    </div>

    <div id="score-area"></div>
  </div>

  <script>
// „Ç´„ÉÜ„Ç¥„É™„ÉºÂÆöÁæ©Ôºà50„Ç´„ÉÜ„Ç¥„É™„Éº„ÄÅÂêÑ20ÂçòË™û A1-A2„É¨„Éô„É´Ôºâ
const categories = {
  "A. ÁîüÊ¥ª„ÉªËá™ÁÑ∂Á≥ª": {
    "animali": {
      name: "ÂãïÁâ©",
      emoji: "üê∂",
      words: ["gatto", "cane", "uccello", "mucca", "pecora", "topo", "cavallo", "asino", "pesce", "leone", "tigre", "elefante", "orso", "coniglio", "maiale", "pollo", "anatra", "gallo", "rana", "farfalla"]
    },
    "cibo": {
      name: "È£ü„ÅπÁâ©",
      emoji: "üçù",
      words: ["pizza", "pasta", "pane", "formaggio", "riso", "pollo", "carne", "pesce", "insalata", "zucchero", "sale", "pepe", "olio", "burro", "uovo", "latte", "yogurt", "miele", "marmellata", "biscotto"]
    },
    "verdure": {
      name: "ÈáéËèú",
      emoji: "ü•ï",
      words: ["pomodoro", "patata", "carota", "cipolla", "aglio", "peperone", "melanzana", "zucchina", "spinaci", "lattuga", "cavolo", "broccoli", "cavolfiore", "cetriolo", "sedano", "ravanello", "piselli", "fagioli", "mais", "funghi"]
    },
    "frutta": {
      name: "ÊûúÁâ©",
      emoji: "üçé",
      words: ["mela", "pera", "banana", "arancia", "limone", "fragola", "ciliegia", "uva", "pesca", "kiwi", "ananas", "melone", "anguria", "albicocca", "prugna", "fico", "cocco", "mango", "papaya", "pompelmo"]
    },
    "bevande": {
      name: "È£≤„ÅøÁâ©",
      emoji: "‚òï",
      words: ["acqua", "latte", "caff√®", "t√®", "succo", "vino", "birra", "coca", "aranciata", "limonata", "cioccolata", "cappuccino", "espresso", "spremuta", "frullato", "smoothie", "aperitivo", "grappa", "liquore", "amaro"]
    },
    "tempo_natura": {
      name: "Â§©Ê∞ó„ÉªËá™ÁÑ∂",
      emoji: "‚òÄÔ∏è",
      words: ["sole", "pioggia", "neve", "vento", "nuvola", "cielo", "tempesta", "tuono", "fulmine", "nebbia", "ghiaccio", "caldo", "freddo", "umido", "secco", "sereno", "nuvoloso", "piovoso", "ventoso", "nebbioso"]
    },
    "piante_fiori": {
      name: "Ê§çÁâ©„ÉªËä±",
      emoji: "üå∏",
      words: ["fiore", "rosa", "tulipano", "margherita", "girasole", "orchidea", "giglio", "garofano", "viola", "albero", "pianta", "foglia", "ramo", "radice", "seme", "erba", "muschio", "cespuglio", "prato", "giardino"]
    },
    "stagioni_tempo": {
      name: "Â≠£ÁØÄ„ÉªÊôÇÈñì",
      emoji: "üçÇ",
      words: ["primavera", "estate", "autunno", "inverno", "mattina", "pomeriggio", "sera", "notte", "giorno", "settimana", "mese", "anno", "oggi", "domani", "ieri", "ora", "minuto", "secondo", "momento", "periodo"]
    },
    "casa_mobili": {
      name: "ÂÆ∂„ÉªÂÆ∂ÂÖ∑",
      emoji: "üè†",
      words: ["casa", "appartamento", "stanza", "cucina", "bagno", "camera", "salotto", "tavolo", "sedia", "letto", "armadio", "divano", "scrivania", "lampada", "porta", "finestra", "muro", "pavimento", "soffitto", "scala"]
    },
    "famiglia": {
      name: "ÂÆ∂Â∫≠„ÉªÂÆ∂Êóè",
      emoji: "üë®‚Äçüë©‚Äçüëß‚Äçüë¶",
      words: ["famiglia", "padre", "madre", "figlio", "figlia", "fratello", "sorella", "nonno", "nonna", "zio", "zia", "cugino", "cugina", "marito", "moglie", "bambino", "bambina", "nipote", "genitori", "parenti"]
    }
  },
  "B. ‰∫∫„ÉªË°åÂãï„ÉªÊÄßÊ†º": {
    "rapporti": {
      name: "‰∫∫ÈñìÈñ¢‰øÇ",
      emoji: "üë•",
      words: ["amico", "amica", "persona", "uomo", "donna", "ragazzo", "ragazza", "vicino", "vicina", "collega", "compagno", "compagna", "partner", "coppia", "fidanzato", "fidanzata", "conoscente", "estraneo", "nemico", "alleato"]
    },
    "emozioni": {
      name: "ÊÑüÊÉÖ„ÉªÊÄßÊ†º",
      emoji: "üòä",
      words: ["felice", "triste", "arrabbiato", "calmo", "nervoso", "stanco", "energico", "allegro", "serio", "timido", "simpatico", "gentile", "cattivo", "buono", "intelligente", "stupido", "coraggioso", "pauroso", "generoso", "egoista"]
    },
    "salute_corpo": {
      name: "ÂÅ•Â∫∑„Éª‰Ωì„ÅÆÈÉ®‰Ωç",
      emoji: "üí™",
      words: ["testa", "occhio", "naso", "bocca", "orecchio", "dente", "collo", "spalla", "braccio", "mano", "dito", "petto", "pancia", "schiena", "gamba", "piede", "cuore", "polmone", "stomaco", "pelle"]
    },
    "professioni": {
      name: "ËÅ∑Ê•≠",
      emoji: "üë®‚Äçüíº",
      words: ["dottore", "infermiere", "maestro", "professore", "studente", "avvocato", "ingegnere", "cuoco", "cameriere", "poliziotto", "pompiere", "postino", "commesso", "commessa", "impiegato", "meccanico", "elettricista", "idraulico", "artista", "musicista"]
    },
    "vestiti": {
      name: "Êúç„Éª„Ç¢„ÇØ„Çª„Çµ„É™„Éº",
      emoji: "üëî",
      words: ["vestito", "gonna", "pantaloni", "camicia", "maglietta", "maglione", "giacca", "cappotto", "scarpe", "stivali", "sandali", "calze", "cappello", "sciarpa", "guanti", "cintura", "cravatta", "borsa", "zaino", "occhiali"]
    },
    "azioni": {
      name: "Êó•Â∏∏Âãï‰Ωú„ÉªÂÆ∂‰∫ã",
      emoji: "üßπ",
      words: ["fare", "andare", "venire", "mangiare", "bere", "dormire", "svegliare", "lavare", "pulire", "cucinare", "stirare", "spazzare", "comprare", "vendere", "aprire", "chiudere", "accendere", "spegnere", "telefonare", "guardare"]
    },
    "bellezza": {
      name: "ÁæéÂÆπ„ÉªË∫´„Å†„Åó„Å™„Åø",
      emoji: "üíÑ",
      words: ["doccia", "bagno", "sapone", "shampoo", "pettine", "spazzola", "asciugamano", "specchio", "trucco", "profumo", "crema", "dentifricio", "spazzolino", "rasoio", "forbici", "phon", "smalto", "rossetto", "mascara", "fondotinta"]
    },
    "scuola": {
      name: "ÊïôËÇ≤„ÉªÂ≠¶Ê†°",
      emoji: "üìö",
      words: ["scuola", "classe", "lezione", "esame", "compito", "libro", "quaderno", "penna", "matita", "gomma", "zaino", "banco", "lavagna", "gesso", "aula", "biblioteca", "mensa", "palestra", "cortile", "diploma"]
    },
    "hobby": {
      name: "Ë∂£Âë≥„Éª‰ΩôÊöá",
      emoji: "üéÆ",
      words: ["hobby", "musica", "film", "cinema", "teatro", "lettura", "pittura", "disegno", "fotografia", "danza", "canto", "giardinaggio", "cucina", "videogiochi", "puzzle", "carte", "scacchi", "pesca", "campeggio", "escursione"]
    },
    "sport": {
      name: "„Çπ„Éù„Éº„ÉÑ",
      emoji: "‚öΩ",
      words: ["calcio", "tennis", "basket", "nuoto", "corsa", "sci", "pallavolo", "golf", "ciclismo", "boxe", "atletica", "ginnastica", "yoga", "karate", "judo", "rugby", "baseball", "hockey", "pattinaggio", "arrampicata"]
    }
  },
  "C. Â†¥ÊâÄ„ÉªÁ§æ‰ºö„Éª‰∫§ÈÄö": {
    "edifici": {
      name: "Âª∫Áâ©„ÉªÊñΩË®≠",
      emoji: "üè¢",
      words: ["edificio", "palazzo", "grattacielo", "casa", "villa", "castello", "chiesa", "cattedrale", "moschea", "tempio", "monastero", "museo", "biblioteca", "teatro", "cinema", "stadio", "centro", "mercato", "fabbrica", "officina"]
    },
    "luoghi": {
      name: "Â†¥ÊâÄ„ÉªÊñπÂêë",
      emoji: "üß≠",
      words: ["nord", "sud", "est", "ovest", "destra", "sinistra", "centro", "sopra", "sotto", "dentro", "fuori", "davanti", "dietro", "vicino", "lontano", "qui", "l√†", "qua", "laggi√π", "lass√π"]
    },
    "trasporti": {
      name: "‰∫§ÈÄö„Éª‰πó„ÇäÁâ©",
      emoji: "üöó",
      words: ["auto", "macchina", "autobus", "treno", "metro", "tram", "taxi", "bicicletta", "moto", "aereo", "nave", "barca", "traghetto", "elicottero", "camion", "furgone", "ambulanza", "tir", "scooter", "monopattino"]
    },
    "viaggi": {
      name: "ÊóÖË°å„ÉªË¶≥ÂÖâ",
      emoji: "‚úàÔ∏è",
      words: ["viaggio", "vacanza", "turismo", "turista", "guida", "mappa", "biglietto", "prenotazione", "albergo", "hotel", "ostello", "camera", "bagaglio", "valigia", "zaino", "passaporto", "visto", "dogana", "aeroporto", "stazione"]
    },
    "geografia": {
      name: "ÈÉΩÂ∏Ç„ÉªÂõΩÂêç„ÉªÂú∞ÁêÜ",
      emoji: "üåç",
      words: ["italia", "francia", "spagna", "germania", "giappone", "cina", "america", "canada", "brasile", "australia", "roma", "milano", "parigi", "londra", "berlino", "madrid", "tokyo", "pechino", "citt√†", "paese"]
    },
    "natura_fenomeni": {
      name: "Ëá™ÁÑ∂ÁèæË±°„ÉªÁÅΩÂÆ≥",
      emoji: "üåã",
      words: ["terremoto", "vulcano", "eruzione", "alluvione", "frana", "valanga", "incendio", "tornado", "uragano", "ciclone", "tsunami", "siccit√†", "inondazione", "temporale", "grandinata", "nevicata", "marea", "onda", "corrente", "vento"]
    },
    "lavoro": {
      name: "ËÅ∑Â†¥„Éª‰ºöÁ§æ",
      emoji: "üíº",
      words: ["lavoro", "ufficio", "azienda", "ditta", "impresa", "fabbrica", "negozio", "bottega", "studio", "scrivania", "computer", "stampante", "telefono", "riunione", "colloquio", "contratto", "stipendio", "salario", "pagamento", "scadenza"]
    },
    "politica": {
      name: "ÊîøÊ≤ª„ÉªÁ§æ‰ºö",
      emoji: "üèõÔ∏è",
      words: ["governo", "ministro", "presidente", "sindaco", "parlamento", "senato", "deputato", "elezione", "voto", "legge", "costituzione", "democrazia", "repubblica", "stato", "nazione", "partito", "politica", "cittadino", "diritto", "dovere"]
    },
    "ambiente": {
      name: "Áí∞Â¢É„ÉªÂú∞ÁêÉ",
      emoji: "üå±",
      words: ["ambiente", "natura", "terra", "pianeta", "mondo", "ecosistema", "foresta", "bosco", "selva", "giungla", "deserto", "montagna", "collina", "valle", "pianura", "fiume", "lago", "mare", "oceano", "isola"]
    },
    "cultura": {
      name: "ÊñáÂåñ„ÉªÂÆóÊïô",
      emoji: "‚õ™",
      words: ["cultura", "tradizione", "costume", "usanza", "religione", "fede", "dio", "chiesa", "prete", "papa", "santo", "preghiera", "messa", "battesimo", "matrimonio", "funerale", "festa", "celebrazione", "rito", "cerimonia"]
    }
  },
  "D. Ë®ÄËëâ„ÉªÊñáÊ≥ï„ÉªÊäΩË±°Ë™û": {
    "verbi": {
      name: "ÂãïË©û",
      emoji: "üèÉ",
      words: ["essere", "avere", "fare", "andare", "venire", "dire", "dare", "sapere", "volere", "potere", "dovere", "vedere", "sentire", "parlare", "mangiare", "bere", "dormire", "lavorare", "studiare", "giocare"]
    },
    "sostantivi": {
      name: "ÂêçË©û",
      emoji: "üì¶",
      words: ["cosa", "oggetto", "nome", "parola", "frase", "testo", "storia", "racconto", "idea", "pensiero", "problema", "soluzione", "domanda", "risposta", "esempio", "caso", "fatto", "evento", "situazione", "occasione"]
    },
    "aggettivi": {
      name: "ÂΩ¢ÂÆπË©û",
      emoji: "üé®",
      words: ["grande", "piccolo", "alto", "basso", "lungo", "corto", "largo", "stretto", "nuovo", "vecchio", "giovane", "bello", "brutto", "buono", "cattivo", "facile", "difficile", "forte", "debole", "ricco"]
    },
    "avverbi": {
      name: "ÂâØË©û",
      emoji: "‚ö°",
      words: ["molto", "poco", "tanto", "troppo", "abbastanza", "quasi", "sempre", "mai", "spesso", "raramente", "ancora", "gi√†", "subito", "presto", "tardi", "bene", "male", "meglio", "peggio", "insieme"]
    },
    "preposizioni": {
      name: "ÂâçÁΩÆË©û",
      emoji: "üîó",
      words: ["di", "a", "da", "in", "con", "su", "per", "tra", "fra", "sopra", "sotto", "dentro", "fuori", "davanti", "dietro", "vicino", "lontano", "verso", "fino", "oltre"]
    },
    "congiunzioni": {
      name: "Êé•Á∂öË©û",
      emoji: "‚ûï",
      words: ["e", "o", "ma", "per√≤", "quindi", "perch√©", "se", "quando", "mentre", "come", "anche", "n√©", "oppure", "invece", "infatti", "allora", "dunque", "cio√®", "ovvero", "anzi"]
    },
    "pronomi": {
      name: "‰ª£ÂêçË©û",
      emoji: "üë§",
      words: ["io", "tu", "lui", "lei", "noi", "voi", "loro", "questo", "quello", "qualcosa", "qualcuno", "niente", "nessuno", "tutto", "tutti", "altro", "stesso", "tale", "chi", "che"]
    },
    "articoli": {
      name: "ÂÜ†Ë©û",
      emoji: "üìù",
      words: ["il", "lo", "la", "i", "gli", "le", "un", "uno", "una", "del", "dello", "della", "dei", "degli", "delle", "al", "allo", "alla", "ai", "agli"]
    },
    "interrogativi": {
      name: "ÁñëÂïèË©û",
      emoji: "‚ùì",
      words: ["chi", "che", "cosa", "quale", "quanto", "quanta", "quanti", "quante", "quando", "dove", "come", "perch√©", "quanto", "dove", "quale", "cosa", "come", "quando", "perch√©", "dove"]
    },
    "interiezioni": {
      name: "ÊÑüÂòÜË©û„Éª„ÅÇ„ÅÑ„Å•„Å°",
      emoji: "üí¨",
      words: ["ah", "oh", "eh", "ahi", "ehi", "boh", "mah", "beh", "uffa", "accidenti", "evviva", "bravo", "dai", "su", "via", "ecco", "allora", "insomma", "caspita", "cavolo"]
    }
  },
  "E. ÁîüÊ¥ª„Çπ„Ç≠„É´„ÉªÂÆüÁî®": {
    "shopping": {
      name: "Ë≤∑„ÅÑÁâ©„Éª„ÅäÈáë",
      emoji: "üí∂",
      words: ["soldi", "denaro", "euro", "centesimo", "moneta", "banconota", "prezzo", "costo", "sconto", "offerta", "saldo", "pagamento", "cassa", "resto", "carta", "bancomat", "credito", "debito", "spesa", "acquisto"]
    },
    "ristorante": {
      name: "„É¨„Çπ„Éà„É©„É≥„ÉªÊñôÁêÜ",
      emoji: "üçΩÔ∏è",
      words: ["ristorante", "trattoria", "osteria", "pizzeria", "bar", "caff√®", "tavolo", "sedia", "menu", "piatto", "antipasto", "primo", "secondo", "contorno", "dolce", "dessert", "conto", "cameriere", "cameriera", "mancia"]
    },
    "ospedale": {
      name: "ÂÅ•Â∫∑„ÉªÁóÖÈô¢",
      emoji: "üè•",
      words: ["ospedale", "clinica", "ambulatorio", "dottore", "medico", "infermiere", "paziente", "malato", "malattia", "febbre", "tosse", "raffreddore", "influenza", "dolore", "medicina", "pillola", "sciroppo", "iniezione", "ricetta", "cura"]
    },
    "clima": {
      name: "Â§©ÂÄô„ÉªÊ∞óÂÄô",
      emoji: "üå°Ô∏è",
      words: ["clima", "tempo", "temperatura", "caldo", "freddo", "fresco", "mite", "umido", "secco", "soleggiato", "nuvoloso", "piovoso", "nevoso", "ventoso", "tempestoso", "sereno", "variabile", "stabile", "pressione", "meteo"]
    },
    "tecnologia": {
      name: "‰ªï‰∫ãÈÅìÂÖ∑„Éª„ÉÜ„ÇØ„Éé„É≠„Ç∏„Éº",
      emoji: "üíª",
      words: ["computer", "laptop", "tablet", "telefono", "cellulare", "smartphone", "tastiera", "mouse", "schermo", "monitor", "stampante", "scanner", "internet", "wifi", "email", "sito", "app", "programma", "software", "hardware"]
    },
    "abitazione": {
      name: "‰Ωè„Åæ„ÅÑ„Éª‰∏çÂãïÁî£",
      emoji: "üèòÔ∏è",
      words: ["casa", "appartamento", "villa", "attico", "monolocale", "bilocale", "stanza", "camera", "bagno", "cucina", "salotto", "terrazzo", "balcone", "giardino", "garage", "cantina", "soffitta", "piano", "ascensore", "portone"]
    },
    "media": {
      name: "„É°„Éá„Ç£„Ç¢„ÉªÈÄö‰ø°",
      emoji: "üì±",
      words: ["televisione", "radio", "giornale", "rivista", "notizia", "informazione", "comunicazione", "messaggio", "lettera", "posta", "email", "sms", "chat", "telefono", "chiamata", "video", "foto", "immagine", "social", "rete"]
    },
    "eventi": {
      name: "„Ç§„Éô„É≥„Éà„ÉªÁ•≠„Çä",
      emoji: "üéâ",
      words: ["festa", "compleanno", "matrimonio", "anniversario", "cerimonia", "celebrazione", "concerto", "spettacolo", "mostra", "esposizione", "fiera", "mercato", "sagra", "carnevale", "natale", "pasqua", "capodanno", "ferragosto", "evento", "incontro"]
    },
    "arte": {
      name: "Ëä∏Ë°ì„ÉªÈü≥Ê•Ω",
      emoji: "üé®",
      words: ["arte", "pittura", "scultura", "disegno", "quadro", "statua", "museo", "galleria", "musica", "canzone", "melodia", "ritmo", "strumento", "pianoforte", "chitarra", "violino", "batteria", "orchestra", "coro", "concerto"]
    },
    "storia": {
      name: "Ê≠¥Âè≤„ÉªÊôÇ‰ª£",
      emoji: "üìú",
      words: ["storia", "epoca", "periodo", "secolo", "anno", "passato", "presente", "futuro", "antico", "moderno", "medievale", "romano", "greco", "rinascimento", "guerra", "pace", "rivoluzione", "impero", "regno", "repubblica"]
    }
  }
};

let currentCategory = "";
let currentWords = [];
let scrambledWords = [];

// Ë¶ÅÁ¥†ÂèñÂæó
const titleScreen = document.getElementById("title-screen");
const gameScreen = document.getElementById("game-screen");
const categoryName = document.getElementById("category-name");
const scrambleList = document.getElementById("scramble-list");
const scoreArea = document.getElementById("score-area");
const hintButton = document.getElementById("hint-button");
const hintBox = document.getElementById("hint-box");
const hintList = document.getElementById("hint-list");
const categoryDropdown = document.getElementById("category-dropdown");

// „Ç´„ÉÜ„Ç¥„É™„Éº„Éú„Çø„É≥„ÇíÂãïÁöÑ„Å´ÁîüÊàê
function generateCategoryButtons() {
  const container = document.getElementById("category-container");
  
  for (const [sectionName, sectionCategories] of Object.entries(categories)) {
    const section = document.createElement("div");
    section.className = "category-section";
    
    const heading = document.createElement("h3");
    heading.textContent = sectionName;
    section.appendChild(heading);
    
    for (const [categoryId, categoryData] of Object.entries(sectionCategories)) {
      const button = document.createElement("button");
      button.className = "category-btn";
      button.dataset.category = categoryId;
      button.textContent = `${categoryData.emoji} ${categoryData.name}`;
      section.appendChild(button);
    }
    
    container.appendChild(section);
  }
}

// „Ç´„ÉÜ„Ç¥„É™„Éº„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„ÇíÂãïÁöÑ„Å´ÁîüÊàê
function generateCategoryDropdown() {
  const dropdown = document.getElementById("category-dropdown");
  
  for (const [sectionName, sectionCategories] of Object.entries(categories)) {
    const section = document.createElement("div");
    section.className = "dropdown-section";
    
    const title = document.createElement("div");
    title.className = "dropdown-section-title";
    title.textContent = sectionName;
    section.appendChild(title);
    
    for (const [categoryId, categoryData] of Object.entries(sectionCategories)) {
      const button = document.createElement("button");
      button.className = "dropdown-item";
      button.dataset.category = categoryId;
      button.textContent = `${categoryData.emoji} ${categoryData.name}`;
      section.appendChild(button);
    }
    
    dropdown.appendChild(section);
  }
}

// ÂàùÊúüÂåñ
generateCategoryButtons();
generateCategoryDropdown();

// „Ç´„ÉÜ„Ç¥„É™„ÉºÊÉÖÂ†±„ÇíÂèñÂæó„Åô„ÇãÈñ¢Êï∞
function getCategoryInfo(categoryId) {
  for (const section of Object.values(categories)) {
    if (section[categoryId]) {
      return section[categoryId];
    }
  }
  return null;
}

// „Ç´„ÉÜ„Ç¥„É™„Éº„Éú„Çø„É≥Âãï‰ΩúÔºà„Çø„Ç§„Éà„É´ÁîªÈù¢„Å®„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥‰∏°ÊñπÔºâ
document.addEventListener("click", (e) => {
  if (e.target.classList.contains("category-btn") || e.target.classList.contains("dropdown-item")) {
    const category = e.target.dataset.category;
    startGame(category);
    categoryDropdown.classList.remove("show");
  }
});

// „Éõ„Éº„É†„Éú„Çø„É≥
document.getElementById("home-button").addEventListener("click", () => {
  gameScreen.classList.add("hidden");
  titleScreen.classList.remove("hidden");
  hintBox.classList.add("hidden");
  categoryDropdown.classList.remove("show");
});

// „Ç´„ÉÜ„Ç¥„É™‰∏ÄË¶ß„Éú„Çø„É≥Ôºà„Éà„Ç∞„É´Ê©üËÉΩÔºâ
document.getElementById("category-list-btn").addEventListener("click", () => {
  categoryDropdown.classList.toggle("show");
});

// „Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥Â§ñ„ÇØ„É™„ÉÉ„ÇØ„ÅßÈñâ„Åò„Çã
document.addEventListener("click", (e) => {
  if (!e.target.closest('.dropdown')) {
    categoryDropdown.classList.remove("show");
  }
});

// „Ç≤„Éº„É†ÈñãÂßã
function startGame(categoryId) {
  const categoryInfo = getCategoryInfo(categoryId);
  if (!categoryInfo) return;
  
  currentCategory = categoryId;
  
  // 20ÂçòË™û„Åã„Çâ„É©„É≥„ÉÄ„É†„Å´10ÂÄãÈÅ∏Êäû
  const allWords = [...categoryInfo.words];
  currentWords = [];
  for (let i = 0; i < 10; i++) {
    const randomIndex = Math.floor(Math.random() * allWords.length);
    currentWords.push(allWords[randomIndex]);
    allWords.splice(randomIndex, 1);
  }
  
  scrambledWords = currentWords.map(word => scramble(word));
  
  categoryName.textContent = `${categoryInfo.emoji} ${categoryInfo.name}`;
  scrambleList.innerHTML = "";
  scoreArea.innerHTML = "";
  hintBox.classList.add("hidden");
  
  scrambledWords.forEach(scrambled => {
    const li = document.createElement("li");
    li.innerHTML = `
      <span class="scrambled">${scrambled}</span>
      <input type="text" class="answer" autocomplete="off" autocapitalize="off">
    `;
    scrambleList.appendChild(li);
  });
  
  titleScreen.classList.add("hidden");
  gameScreen.classList.remove("hidden");
  
  // ÊúÄÂàù„ÅÆÂÖ•ÂäõÊ¨Ñ„Å´„Éï„Ç©„Éº„Ç´„Çπ
  const firstInput = scrambleList.querySelector('.answer');
  if (firstInput) {
    setTimeout(() => firstInput.focus(), 300);
  }
}

// „Ç∑„É£„ÉÉ„Éï„É´Èñ¢Êï∞
function scramble(word) {
  let shuffled = word;
  // ÂÖÉ„ÅÆÂçòË™û„Å®Âêå„Åò„Å´„Å™„Çâ„Å™„ÅÑ„Çà„ÅÜ„Å´Ë§áÊï∞ÂõûË©¶Ë°å
  for (let i = 0; i < 10; i++) {
    shuffled = word.split("").sort(() => Math.random() - 0.5).join("");
    if (shuffled !== word) break;
  }
  return shuffled;
}

// Êé°ÁÇπ„Éú„Çø„É≥
document.getElementById("next-button").addEventListener("click", () => {
  const answers = document.querySelectorAll(".answer");
  let score = 0;
  
  answers.forEach((input, index) => {
    const correct = currentWords[index];
    if (input.value.trim().toLowerCase() === correct.toLowerCase()) {
      input.style.backgroundColor = "#b2ffb2";
      score++;
    } else {
      input.style.backgroundColor = "#ffb2b2";
    }
  });
  
  // „Éù„Ç∏„ÉÜ„Ç£„Éñ„Å™„Ç§„Çø„É™„Ç¢Ë™û„ÅÆ„Ç≥„É°„É≥„ÉàÔºà10Á®ÆÈ°ûÔºâ
  const comments = [
    "Fantastico! Á¥†Êô¥„Çâ„Åó„ÅÑÔºÅüåü",
    "Ottimo lavoro! „Çà„ÅèÈ†ëÂºµ„Å£„Åü„Å≠ÔºÅüëè",
    "Continua cos√¨! „Åù„ÅÆË™øÂ≠êÔºÅüí™",
    "Molto bene! „Å®„Å¶„ÇÇ„ÅÑ„ÅÑ„ÇàÔºÅüòä",
    "Bravo! „Çà„Åè„Åß„Åç„Åæ„Åó„ÅüÔºÅüéØ",
    "Perfetto! ÂÆåÁíßÔºÅüéâ",
    "Eccellente! Á¥†Êô¥„Çâ„Åó„ÅÑÔºÅ‚ú®",
    "Ben fatto! „Çà„Åè„ÇÑ„Å£„ÅüÔºÅüåà",
    "Stai migliorando! ‰∏äÈÅî„Åó„Å¶„Çã„ÇàÔºÅüöÄ",
    "Sei bravissimo! „Åô„Åî„ÅÑ„Å≠ÔºÅ‚≠ê"
  ];
  
  const randomComment = comments[Math.floor(Math.random() * comments.length)];
  
  scoreArea.textContent = `‚úÖ ${score} / ${currentWords.length} Ê≠£Ëß£ÔºÅ ${randomComment}`;
  
  scoreArea.scrollIntoView({ behavior: 'smooth', block: 'center' });
});

// üí°„Éí„É≥„Éà„Éú„Çø„É≥Ôºà„Éà„Ç∞„É´Ê©üËÉΩÔºâ
hintButton.addEventListener("click", () => {
  if (hintBox.classList.contains("hidden")) {
    const shuffledHints = [...currentWords].sort(() => Math.random() - 0.5);
    hintList.innerHTML = shuffledHints.map(w => `<li>${w}</li>`).join("");
    hintBox.classList.remove("hidden");
  } else {
    hintBox.classList.add("hidden");
  }
});
  </script>
</body>

</html>
